# =============================================================================
# Entanglement Server - Environment Configuration
# =============================================================================
#
# QUICK START:
#   1. Copy this file to .env:     cp .env.example .env
#   2. Generate JWT secret:        echo "JWT_SECRET=$(openssl rand -hex 32)" >> .env
#   3. Start the server:           docker compose up -d
#
# =============================================================================

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# JWT signing secret (REQUIRED - generate with: openssl rand -hex 32)
# If not set, users will be logged out on every restart!
JWT_SECRET=

POSTGRES_PASSWORD=entanglement

# =============================================================================
# SERVER SETTINGS
# =============================================================================

# Display name shown in client apps
SERVER_NAME=My Entanglement Server

REST_PORT=1975
GRPC_PORT=50051
WEB_PORT=3000

# =============================================================================
# STORAGE PATHS
# =============================================================================

# Where to store blob data on host (absolute path or relative to docker-compose.yml)
DATA_PATH=./data

# =============================================================================
# CORS SETTINGS (Web Interface)
# =============================================================================

# Allowed origins for web requests (comma-separated)
# Add your server's web interface URL here
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://instability-index:3000

# =============================================================================
# OPTIONAL SETTINGS
# =============================================================================

# Expose PostgreSQL port for external tools (leave empty to not expose)
POSTGRES_PORT=5432

# Token lifetimes
ACCESS_TOKEN_HOURS=24
REFRESH_TOKEN_DAYS=30

# Rate limiting
AUTH_RATE_LIMIT=5
AUTH_RATE_BURST=10

# Max upload size in bytes (default: 1GB)
MAX_UPLOAD_SIZE=1073741824
